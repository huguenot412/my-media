
@if (editable()) {
  <app-search class="search"/>
}

<div class="lists-container">
  <div class="actions">
    @if (editable()) {
      <mat-form-field >
        <mat-label>Create new list</mat-label>
        <input matInput type="text" [(ngModel)]="newListName" name="newListName">
        @if (newListName) {
          <button matSuffix mat-icon-button aria-label="Clear" (click)="newListName=''">
            <mat-icon>close</mat-icon>
          </button>
        }
      </mat-form-field>
      <button mat-button type="submit" [disabled]="!newListName" (click)="addList()">Create new list</button>
      <!-- <mat-form-field >
        <mat-label>Create new list group</mat-label>
        <input matInput type="text" [(ngModel)]="newListGroupName" name="newListGroupName">
        @if (newListName) {
          <button matSuffix mat-icon-button aria-label="Clear" (click)="newListGroupName=''">
            <mat-icon>close</mat-icon>
          </button>
        }
      </mat-form-field>
      <button mat-button type="submit" [disabled]="!newListGroupName" (click)="addListGroup()">Create new list</button> -->
    }
    <!-- @for (listGroup of userService.user()?.gameListGroups; track listGroup) {
      <p>{{ listGroup }}</p>
    } -->
    <mat-button-toggle-group>
      <mat-button-toggle (click)="detailView.set(false)" [checked]="detailView() === false">
        Simple
      </mat-button-toggle>
      <mat-button-toggle (click)="detailView.set(true)" [checked]="detailView() === true">
        Detailed
      </mat-button-toggle>
    </mat-button-toggle-group>
    <mat-button-toggle-group>
      <mat-button-toggle value="Scroll" (click)="scrollView.set(true)" [checked]="scrollView() === true">Scroll</mat-button-toggle>
      <mat-button-toggle value="Full" (click)="scrollView.set(false)" [checked]="scrollView() === false">Full</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
  <!-- <section>
    <h4>Chips inside of a Template-driven form</h4>
    <mat-form-field class="example-form-field">
      <mat-label>Video keywords</mat-label>
      <mat-chip-grid #templateChipGrid aria-label="Enter template form keywords" [ngModel]="listOwner().gameListGroups">
      @for (listGroup of userService.user()?.gameListGroups; track listGroup) {
        <mat-chip-row (removed)="removeGameListGroup(listGroup)">
          {{ listGroup }}
        <button matChipRemove aria-label="'remove template form' + keyword">
          <mat-icon>cancel</mat-icon>
        </button>
        </mat-chip-row>
      }
      </mat-chip-grid>
      <input
        placeholder="New keyword..."
        [matChipInputFor]="templateChipGrid"
        (matChipInputTokenEnd)="addGameListGroup($event)"
      />
    </mat-form-field>
  </section> -->



  <cdk-virtual-scroll-viewport appendOnly itemSize="10" class="lists-scroll-viewport">
    <div class="lists">
      <app-game-list
        *cdkVirtualFor="let list of listsToDisplay(); trackBy: listTrackBy"
        class="list"
        [list]="list"
        [rankedView]="list.ranked"
        [detailView]="detailView()"
        [listOwner]="listOwner()"
        [editable]="editable()"
        [scrollView]="scrollView()"/>

    </div>
  </cdk-virtual-scroll-viewport>
</div>


